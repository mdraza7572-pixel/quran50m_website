<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Quran Wazifa & Dua</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ---THEME (ORIGINAL) --- */
        :root {
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --primary-gold: #FFD700;
            --accent-gradient: linear-gradient(135deg, #FFD700 0%, #FDB931 100%);
            --text-white: #ffffff;
            --text-gray: #e2e8f0;
            --btn-radius: 50px;
            --card-radius: 30px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Outfit', sans-serif; scroll-behavior: smooth; }
        body { color: var(--text-white); line-height: 1.6; overflow-x: hidden; }

        /* Background Video */
        #bg-video { position: fixed; right: 0; bottom: 0; min-width: 100%; min-height: 100%; z-index: -2; object-fit: cover; }
        .video-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); z-index: -1; }

        a { text-decoration: none; color: inherit; transition: 0.3s; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; position: relative; }
        .gradient-text { background: var(--accent-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 800; }
        .text-center { text-align: center; }

        /* Buttons & Header */
        .btn { padding: 12px 28px; border-radius: var(--btn-radius); font-weight: 600; font-size: 0.95rem; display: inline-flex; align-items: center; gap: 8px; transition: 0.3s; border: none; cursor: pointer; text-align: center; justify-content: center; }
        .btn:hover { transform: translateY(-3px) scale(1.02); }
        .btn-primary { background: var(--accent-gradient); color: #000; font-weight: 700; box-shadow: 0 5px 20px rgba(255, 215, 0, 0.2); }
        .btn-red { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white; }
        .btn-glass { background: rgba(255, 255, 255, 0.08); border: 1px solid var(--glass-border); color: white; backdrop-filter: blur(10px); }
        .btn-glass:hover { background: rgba(255,255,255,0.15); border-color: var(--primary-gold); color: var(--primary-gold); }
        .btn-icon-img { width: 20px; height: 20px; object-fit: contain; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2)); }

        header { display: flex; justify-content: space-between; align-items: center; padding: 15px 30px; margin-top: 20px; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(15px); border: 1px solid var(--glass-border); border-radius: 100px; position: sticky; top: 20px; z-index: 100; }
        .logo { font-size: 1.4rem; font-weight: 700; display: flex; align-items: center; gap: 12px; }
        .logo img { height: 45px; width: 45px; border-radius: 50%; border: 2px solid var(--primary-gold); }

        /* Profile Icon CSS */
        .profile-container { position: relative; display: inline-block; margin-left: 10px; vertical-align: middle; }
        .profile-btn { width: 45px; height: 45px; border-radius: 50%; background: #222; border: 2px solid #FFD700; display: flex; align-items: center; justify-content: center; cursor: pointer; overflow: hidden; transition: 0.3s; box-shadow: 0 0 10px rgba(255, 215, 0, 0.3); }
        .profile-btn img { width: 100%; height: 100%; object-fit: cover; }
        .profile-btn i { color: #fff; font-size: 1.2rem; }
        .profile-dropdown { position: absolute; top: 60px; right: 0; width: 160px; background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.3); display: none; flex-direction: column; overflow: hidden; z-index: 10005; }
        .menu-item { padding: 12px; color: #333; font-size: 14px; cursor: pointer; border-bottom: 1px solid #eee; font-weight: 500; }
        .menu-item:hover { background: #f5f5f5; }

        /* Sections */
        .hero { text-align: center; padding: 80px 20px 60px; }
        .badge { background: rgba(251, 191, 36, 0.1); color: var(--primary-gold); padding: 8px 25px; border-radius: 50px; font-size: 0.9rem; border: 1px solid rgba(251, 191, 36, 0.2); display: inline-block; margin-bottom: 25px; }
        .hero h1 { font-size: 3.2rem; margin-bottom: 20px; line-height: 1.1; font-weight: 800; }
        .hero p { color: var(--text-gray); margin-bottom: 20px; font-size: 1.1rem; max-width: 800px; margin: 0 auto; }
        
        .glass-card { background: var(--glass-bg); border: 1px solid var(--glass-border); padding: 30px; border-radius: var(--card-radius); margin-bottom: 20px; backdrop-filter: blur(5px); }
        .surah-list { text-align: left; max-width: 800px; margin: 40px auto; }
        .surah-item { display: flex; gap: 15px; margin-bottom: 15px; align-items: center; }
        .surah-icon { color: var(--primary-gold); font-size: 1.2rem; }
        
        .benefits-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 40px 0; }
        .benefit-card { background: var(--glass-bg); border: 1px solid var(--glass-border); padding: 25px; border-radius: var(--card-radius); display: flex; align-items: center; gap: 15px; transition: 0.3s; backdrop-filter: blur(5px); }
        .benefit-card:hover { border-color: var(--primary-gold); transform: translateY(-5px); }

        .video-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .video-card { background: rgba(0, 0, 0, 0.6); border-radius: var(--card-radius); overflow: hidden; border: 1px solid var(--glass-border); transition: 0.4s; display: block; backdrop-filter: blur(5px); }
        .video-card:hover { transform: translateY(-10px); border-color: var(--primary-gold); box-shadow: 0 20px 40px rgba(0,0,0,0.6); }
        .thumbnail { position: relative; width: 100%; aspect-ratio: 16 / 9; overflow: hidden; }
        .thumbnail img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; opacity: 1; }
        .video-card:hover .thumbnail img { transform: scale(1.05); }
        .play-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 1.5rem; color: black; background: var(--primary-gold); width: 55px; height: 55px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .video-info { padding: 25px; }
        .video-title { color: white; font-weight: 600; font-size: 1.1rem; margin-bottom: 5px; }
        .video-desc { color: var(--text-gray); font-size: 0.9rem; }

        /* --- CONTACT FORM CSS --- */
        .contact-section { margin: 60px 0; text-align: center; }
        .contact-form {
            max-width: 600px; margin: 0 auto;
            background: rgba(0,0,0,0.6); padding: 40px; border-radius: 30px;
            border: 1px solid var(--glass-border); backdrop-filter: blur(10px);
        }
        .form-input {
            width: 100%; padding: 16px 20px; margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px; color: white; outline: none; font-size: 1rem;
            transition: 0.3s;
        }
        .form-input:focus { border-color: var(--primary-gold); background: rgba(0,0,0,0.8); }
        textarea.form-input { resize: vertical; min-height: 120px; }

                            /* Footer */
        .support-box { background: linear-gradient(45deg, #111, #000); border: 1px solid var(--glass-border); padding: 50px; border-radius: 40px; text-align: center; margin: 80px 0; }
        .footer-socials { display: flex; justify-content: center; gap: 20px; margin: 30px 0; }
        .social-btn { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: white; transition: 0.3s; }
        .social-btn:hover { background: var(--primary-gold); color: black; transform: translateY(-3px); }
        footer { padding: 60px 20px; text-align: center; background: rgba(0,0,0,0.8); color: #888; backdrop-filter: blur(10px); }
        .disclaimer { font-size: 0.75rem; color: #555; max-width: 800px; margin: 30px auto; border-top: 1px solid #222; padding-top: 20px; }

        /* Widget Styles */
        .float-container { position: fixed; bottom: 30px; right: 20px; display: flex; flex-direction: column; gap: 15px; align-items: flex-end; z-index: 9990; }
        .float-btn { width: 60px; height: 60px; background: rgba(0, 0, 0, 0.9); border: 2px solid #FFD700; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; position: relative; backdrop-filter: blur(5px); box-shadow: 0 5px 15px rgba(0,0,0,0.5); transition: transform 0.2s; }
        .float-btn:active { transform: scale(0.95); }
        .lock-badge { position: absolute; top: -2px; right: -2px; background: #ef4444; color: white; width: 22px; height: 22px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 10px; border: 2px solid #000; }
        
        .chat-window { position: fixed; bottom: 100px; right: 20px; width: 320px; height: 450px; background: #0a0a0a; border: 1px solid #333; border-radius: 20px; display: none; flex-direction: column; z-index: 9999; box-shadow: 0 20px 50px rgba(0,0,0,0.8); }
        .chat-header { padding: 15px; background: #151515; color: #FFD700; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; font-weight: bold; }
        .chat-body { flex: 1; padding: 15px; overflow-y: auto; color: #eee; font-size: 14px; }
        .msg { padding: 8px 12px; margin-bottom: 8px; border-radius: 10px; max-width: 80%; line-height: 1.4; }
        .bot-msg { background: #222; align-self: flex-start; border-bottom-left-radius: 0; }
        .user-msg { background: #FFD700; color: #000; align-self: flex-end; margin-left: auto; border-bottom-right-radius: 0; font-weight: 500; }
        .chat-input-area { padding: 10px; background: #151515; display: flex; gap: 5px; border-top: 1px solid #333; }
        .chat-input { flex: 1; padding: 10px; border-radius: 20px; border: 1px solid #333; outline: none; background: #222; color: white; }

        .login-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10001; display: none; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .login-card { background: white; padding: 30px; border-radius: 20px; text-align: center; width: 90%; max-width: 350px; position: relative; }
        .btn-google { width: 100%; padding: 12px; margin-top: 20px; background: white; border: 1px solid #ddd; border-radius: 50px; font-weight: bold; color: #555; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; transition: 0.2s; }
        .btn-google:hover { background: #f9f9f9; border-color: #ccc; }

                /* NEW: Channel Logo Style */
        .channel-logo-img {
            width: 50px; height: 50px; border-radius: 50%; object-fit: cover;
            border: 2px solid var(--primary-gold);
        }
    </style>
</head>
<body>
    <video autoplay muted loop playsinline id="bg-video">
        <source src="bg.mp4" type="video/mp4">
    </video>
    <div class="video-overlay"></div>

    <div class="container">
        <header>
            <div class="logo"><img src="logo.png" alt="Logo"> <span>Quran 50M</span></div>
            <div style="display:flex; align-items:center; gap:10px;">
                <a href="https://youtube.com/@quran50m" target="_blank" class="btn btn-red"><i class="fab fa-youtube"></i> Subscribe</a>
                <div id="profileWrapper" class="profile-container"></div>
            </div>
        </header>
    </div>

    <section class="hero container">
        <div class="badge">Assalamu Alaikum Warahmatullahi Wabarakatuh ü§ç</div>
        <h1>Daily Quran Wazifa <br> <span class="gradient-text">Morning Dua</span></h1>
        <p>Is video mein aap Holy Quran ki beautiful aur heart-touching tilawat sun sakte hain, jo dil ko sukoon, rooh ko chain aur zindagi mein barkat deti hai.</p>

        <div style="display: flex; flex-direction: column; align-items: center; gap: 20px; margin-top: 40px;">
            <a href="playlist.html" class="btn btn-primary" style="padding: 16px 40px; font-size: 1.1rem; width: 100%; max-width: 350px;">
                <img src="play.jpg" alt="Play" class="btn-icon-img"> Watch Playlist
            </a>

            <div style="display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; width: 100%;">
                <a href="durood.html" class="btn btn-glass"><i class="fas fa-heart"></i> Durood Shareef</a>
                <a href="dua.html" class="btn btn-glass"><i class="fas fa-hands-praying"></i> Dua Barkat</a>
                <a href="tilawat.html" class="btn btn-glass"><i class="fas fa-book-open"></i> Tilawat Quran</a>
                <a href="naat.html" class="btn btn-glass"><i class="fas fa-microphone-lines"></i> Naat Sharif</a>
            </div>

            <div style="display: flex; gap: 15px;">
                <a href="special.html" class="btn btn-glass" style="font-size: 0.85rem; padding: 10px 20px;">Special Collection</a>
                <a href="#benefits" class="btn btn-glass" style="font-size: 0.85rem; padding: 10px 20px;">Read Benefits</a>
            </div>
        </div>
    </section>

    <section class="container" style="margin: 60px auto; text-align: center;">
        <h2 style="font-size: 2.5rem; margin-bottom: 30px;">Recommended <span class="gradient-text">channel</span></h2>
        <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
            
            <a href="https://www.youtube.com/results?search_query=Quran+India+TV" target="_blank" class="glass-card" style="display: flex; align-items: center; gap: 15px; text-decoration: none; color: white; padding: 20px 30px; transition:0.3s; cursor:pointer;">
                <img src="quran-india.jpg" class="channel-logo-img" alt="Logo">
                <div style="text-align: left;">
                    <span style="font-size: 1.1rem; font-weight: 700; display:block;">Quran India TV</span>
                    <span style="font-size: 0.8rem; color: #ccc;">Subscribe Now</span>
                </div>
            </a>

            <a href="https://www.youtube.com/results?search_query=Khushbu+e+Quran" target="_blank" class="glass-card" style="display: flex; align-items: center; gap: 15px; text-decoration: none; color: white; padding: 20px 30px; transition:0.3s; cursor:pointer;">
                <img src="khushbu.jpg" class="channel-logo-img" alt="Logo">
                <div style="text-align: left;">
                    <span style="font-size: 1.1rem; font-weight: 700; display:block;">Khushbu e Quran</span>
                    <span style="font-size: 0.8rem; color: #ccc;">Subscribe Now</span>
                </div>
            </a>

        </div>
    </section>

    <section class="container">
        <div class="glass-card surah-list">
            <h3 style="text-align:center; margin-bottom: 20px; color: white;">üïã Surahs Included in This Video</h3>
            <div class="surah-item"><i class="fas fa-book-open surah-icon"></i><div><strong style="color:white; display:block;">Surah Yaseen (Yasin)</strong><span style="color:var(--text-gray); font-size: 0.9rem;">Dil ka sukoon aur maghfirat ke liye</span></div></div>
            <div class="surah-item"><i class="fas fa-cloud-sun surah-icon"></i><div><strong style="color:white; display:block;">Surah Ar-Rahman</strong><span style="color:var(--text-gray); font-size: 0.9rem;">Allah ki rehmat aur ne‚Äômaton ka zikr</span></div></div>
            <div class="surah-item"><i class="fas fa-star surah-icon"></i><div><strong style="color:white; display:block;">Complete Quran Tilawat</strong><span style="color:var(--text-gray); font-size: 0.9rem;">Pur sukoon aur roohani asar ke saath</span></div></div>
        </div>
    </section>

    <section id="benefits" class="container">
        <div class="section-title"><h2>‚ú® Benefits of Listening <span class="gradient-text">Daily</span></h2></div>
        <div class="benefits-grid">
            <div class="benefit-card"><i class="fas fa-heart surah-icon"></i> <span style="color:#ddd">Dil ko sukoon milta hai</span></div>
            <div class="benefit-card"><i class="fas fa-brain surah-icon"></i> <span style="color:#ddd">Gham, tension aur anxiety kam hoti hai</span></div>
            <div class="benefit-card"><i class="fas fa-hands-praying surah-icon"></i> <span style="color:#ddd">Allah ki rehmat aur barkat hoti hai</span></div>
            <div class="benefit-card"><i class="fas fa-shield-alt surah-icon"></i> <span style="color:#ddd">Roohani shifa aur protection</span></div>
            <div class="benefit-card"><i class="fas fa-sun surah-icon"></i> <span style="color:#ddd">Positive energy aur inner peace</span></div>
        </div>
    </section>

    <section class="container">
        <div class="section-title">
            <h2>Featured <span class="gradient-text">Recitations</span></h2>
            <p style="color: var(--text-gray);">Our top picks for you</p>
        </div>
        
        <div class="video-grid">
            <a href="https://youtu.be/rTw1qqAngzk?si=_9ksduUZ04BGfsr1" target="_blank" class="video-card">
                <div class="thumbnail"><img src="https://img.youtube.com/vi/rTw1qqAngzk/maxresdefault.jpg" alt="Surah Yaseen"><div class="play-icon"><i class="fas fa-play"></i></div></div>
                <div class="video-info"><div class="video-title">Surah Yaseen</div><div class="video-desc">Dil ka sukoon aur maghfirat ke liye.</div></div>
            </a>
            <a href="https://youtu.be/3g6vfftQ-z0?si=dmxHQ86huNb7U4sT" target="_blank" class="video-card">
                <div class="thumbnail"><img src="https://img.youtube.com/vi/3g6vfftQ-z0/maxresdefault.jpg" alt="Durood"><div class="play-icon"><i class="fas fa-play"></i></div></div>
                <div class="video-info"><div class="video-title">Durood Kushadgi e Rizq</div><div class="video-desc">Rizq mein barkat aur kushadgi.</div></div>
            </a>
            <a href="https://youtu.be/ryE4r6RQD6Q?si=aWDqmTcrAgvKhJzh" target="_blank" class="video-card">
                <div class="thumbnail"><img src="https://img.youtube.com/vi/ryE4r6RQD6Q/maxresdefault.jpg" alt="Baqarah"><div class="play-icon"><i class="fas fa-play"></i></div></div>
                <div class="video-info"><div class="video-title">Surah Baqarah</div><div class="video-desc">Karobar aur tijarat mein barkat.</div></div>
            </a>
            <a href="https://youtu.be/68yBHe0L1T4?si=VV7ptR_YpAo4wpMQ" target="_blank" class="video-card">
                <div class="thumbnail"><img src="https://img.youtube.com/vi/68yBHe0L1T4/maxresdefault.jpg" alt="99 Names"><div class="play-icon"><i class="fas fa-play"></i></div></div>
                <div class="video-info"><div class="video-title">Allah Ke 99 Naam</div><div class="video-desc">Asma-ul-Husna ki fazilat.</div></div>
            </a>
        </div>
    </section>

    <section class="container" style="margin: 60px 0;">
        <div class="glass-card" style="text-align: center; padding: 40px;">
            <h2 style="margin-bottom: 20px;">About <span class="gradient-text">Quran 50M</span></h2>
            <p style="color: var(--text-gray); max-width: 700px; margin: 0 auto 30px;">
                Connecting hearts with the divine through daily Wazifa, Dua, and peaceful recitations. We are dedicated to providing accessible Islamic content for spiritual peace.
            </p>
            <div style="display: inline-block; padding: 10px 25px; background: rgba(255,215,0,0.1); border: 1px solid var(--primary-gold); border-radius: 50px; color: var(--primary-gold); font-weight: 600;">
                <i class="fas fa-envelope"></i> Support@quran50m.online
            </div>
        </div>
    </section>

        <section class="container contact-section">
        <h2 style="margin-bottom: 20px;">üì© support <span class="gradient-text">chat</span></h2>
        <div class="contact-form">
            <form action="mailto:mdraza7572@gmail.com" method="post" enctype="text/plain">
                <input type="text" name="Name" class="form-input" placeholder="Name" required>
                <input type="email" name="Email" class="form-input" placeholder="E-mail" required>
                <textarea name="Message" class="form-input" placeholder="Your Message..." required></textarea>
                <button type="submit" class="btn btn-primary" style="width:100%; font-size: 1.1rem;">Send Message</button>
            </form>
        </div>
    </section>

    <section class="container">
        <div class="support-box">
            <h2 style="margin-bottom: 15px;">üîî Support the <span class="gradient-text">Channel</span></h2>
            <p style="color: var(--text-gray); margin-bottom: 20px;">Agar aapko ye tilawat pasand aaye to:</p>
            <div style="display:flex; flex-direction:column; gap:10px; margin-bottom:30px; color:#bbb;">
                <span>üëç Video ko Like karein</span>
                <span>üìå Channel ko Subscribe karein</span>
                <span>üîî Bell icon dabayein</span>
                <span>üì§ Family aur friends ke saath Share karein</span>
            </div>
            <p style="color: white; font-weight: 600;">Aapka ek support humare liye bohot valuable hai ü§ç</p>
            <br>
            <a href="https://youtube.com/@quran50m" target="_blank" class="btn btn-red">Subscribe Channel</a>
        </div>
    </section>

    <footer>
        <div class="footer-socials">
            <a href="https://www.facebook.com/share/17gwnK9bmn/" target="_blank" class="social-btn"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.instagram.com/quran_50m_youtube?igsh=b2U3cHM0czJ2emx1" target="_blank" class="social-btn"><i class="fab fa-instagram"></i></a>
            <a href="https://youtube.com/@quran50m" target="_blank" class="social-btn"><i class="fab fa-youtube"></i></a>
        </div>
        <p>&copy; 2025 Quran 50M. All rights reserved.</p>
        <p>(developed by Md)</p>
        <div class="disclaimer">
            <p><strong>‚ö†Ô∏è Copyright Disclaimer</strong></p>
            <p>Copyright Disclaimer under Section 107 of the Copyright Act 1976, allowance is made for fair use for purposes such as criticism, comment, news reporting, teaching, scholarship, and research.</p>
        </div>

    </footer>

    <div class="login-overlay" id="loginModal">
        <div class="login-card">
            <h2 style="margin:0 0 10px 0; color:#000;">Welcome üëã</h2>
            <p style="color:#666; margin:0;">Sign in to unlock AI & Books</p>
            <button class="btn-google" id="googleBtn">
                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="20">
                Continue with Google
            </button>
            <button onclick="document.getElementById('loginModal').style.display='none'" style="margin-top:15px; background:none; border:none; color:#999; cursor:pointer;">Cancel</button>
        </div>
    </div>

    <div class="float-container">
        <div class="float-btn" id="bookBtn" style="width:50px; height:50px; border-color:#fff;">
            <i class="fas fa-book-open" style="color:#fff; font-size:20px;"></i>
            <div class="lock-badge" id="bookLock"><i class="fas fa-lock"></i></div>
        </div>
        <div class="float-btn" id="gameBtn" onclick="window.location.href='game.html'" style="width:50px; height:50px; border-color:#fff;">
            <i class="fas fa-gamepad" style="color:#FFD700; font-size:24px;"></i>
        </div>
        <div class="float-btn" id="chatBtn">
            <i class="fas fa-robot" style="color:#FFD700; font-size:28px;"></i>
            <div class="lock-badge" id="chatLock"><i class="fas fa-lock"></i></div>
        </div>
    </div>

    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <span><i class="fas fa-mosque"></i> Islamic AI</span>
            <span onclick="document.getElementById('chatWindow').style.display='none'" style="cursor:pointer;">‚úñ</span>
        </div>
        <div class="chat-body" id="chatBody">
            <div class="msg bot-msg">Assalamu Alaikum! ü§ç Main Quran 50M AI hoon.</div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="userInput" class="chat-input" placeholder="Sawal poohein...">
            <button id="sendBtn" style="background:#FFD700; border:none; width:35px; height:35px; border-radius:50%; cursor:pointer;">‚û§</button>
            <button id="micBtn" onclick="startListening()" style="background:none; border:none; font-size:20px; cursor: pointer;">üéôÔ∏è</button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";

        // --- üü¢ GROQ API SETUP üü¢ ---
        const GROQ_API_KEY = "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"; 
        const GROQ_URL = "https://api.groq.com/openai/v1/chat/completions";

        // --- FIREBASE CONFIG ---
        const firebaseConfig = {
            apiKey: "AIzaSyAO7QUk3UnPAXGjtUQQCFDc_JtYQ5Qh6cE", 
            authDomain: "quran50m-login.firebaseapp.com",
            projectId: "quran50m-login",
            storageBucket: "quran50m-login.firebasestorage.app",
            messagingSenderId: "467087335036",
            appId: "1:467087335036:web:bd38b32f71b4ec751a73f9"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        function setupHeaderProfile() {
            const wrapper = document.getElementById('profileWrapper');
            if(wrapper) {
                const savedPhoto = localStorage.getItem("userPhoto");
                const isLoggedIn = localStorage.getItem("isLoggedIn") === "true";
                
                wrapper.innerHTML = `
                    <div class="profile-btn" id="pBtn" style="border-color: ${isLoggedIn ? '#FFD700' : '#444'}">
                        ${(isLoggedIn && savedPhoto) ? `<img src="${savedPhoto}">` : '<i class="fas fa-user"></i>'}
                    </div>
                    <div class="profile-dropdown" id="pMenu">
                        <div class="menu-item" style="cursor:default; color:#888; font-size:12px;">Account</div>
                        <div class="menu-item" id="logoutBtn" style="color:red;">Logout</div>
                    </div>
                `;

                document.getElementById('pBtn').onclick = (e) => {
                    e.stopPropagation();
                    if(localStorage.getItem("isLoggedIn") === "true") {
                        const m = document.getElementById('pMenu');
                        m.style.display = m.style.display === 'flex' ? 'none' : 'flex';
                    } else {
                        document.getElementById('loginModal').style.display = 'flex';
                    }
                };

                document.getElementById('logoutBtn').onclick = () => {
                    if(confirm("Logout?")) {
                        signOut(auth).then(() => { 
                            localStorage.removeItem("isLoggedIn");
                            localStorage.removeItem("userName");
                            localStorage.removeItem("userPhoto"); 
                            location.reload(); 
                        });
                    }
                };
                
                window.addEventListener('click', (e) => {
                    if(!wrapper.contains(e.target)) {
                        const menu = document.getElementById('pMenu');
                        if(menu) menu.style.display = 'none';
                    }
                });
            }
        }

        document.getElementById('googleBtn').onclick = () => {
            signInWithPopup(auth, provider).then((result) => {
                localStorage.setItem("isLoggedIn", "true");
                localStorage.setItem("userName", result.user.displayName);
                localStorage.setItem("userPhoto", result.user.photoURL);
                location.reload();
            }).catch((error) => {
                alert("Login Error: " + error.message);
            });
        };

        // --- GROQ (LLAMA 3) CHATBOT LOGIC ---
        async function sendMessage() {
            const input = document.getElementById('userInput');
            const text = input.value.trim();
            if(!text) return;
            
            const body = document.getElementById('chatBody');
            const userDiv = document.createElement('div');
            userDiv.className = 'msg user-msg';
            userDiv.innerText = text;
            body.appendChild(userDiv);
            input.value = '';
            
            const botDiv = document.createElement('div');
            botDiv.className = 'msg bot-msg';
            botDiv.innerText = '...';
            body.appendChild(botDiv);
            body.scrollTop = body.scrollHeight;

            try {
                // Call Groq API
                const res = await fetch(GROQ_URL, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${GROQ_API_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: "llama-3.1-8b-instant",
                        messages: [
                            { role: "system", content: "You are a kind Islamic assistant. Answer strictly in Hinglish or Urdu." },
                            { role: "user", content: text }
                        ],
                        temperature: 0.7
                    })
                });
                
                const data = await res.json();
                
                if (data.choices && data.choices[0]) {
                    const ans = data.choices[0].message.content;
                    botDiv.innerText = ans;
                    speakAnswer(ans); // Auto-speak
                } else if(data.error) {
                    botDiv.innerText = "Error: " + data.error.message;
                } else {
                    botDiv.innerText = "Jawab nahi mila.";
                }
            } catch(e) {
                console.error(e);
                botDiv.innerText = "Network Error.";
            }
        }

        document.getElementById('sendBtn').onclick = sendMessage;
        document.getElementById('userInput').onkeypress = (e) => { if(e.key === 'Enter') sendMessage(); };

        setupHeaderProfile();
        
        if(localStorage.getItem("isLoggedIn") === "true") {
            document.getElementById('chatLock').style.display = 'none';
            document.getElementById('bookLock').style.display = 'none';
        }

        window.checkAccess = (action) => {
            if(localStorage.getItem("isLoggedIn") === "true") {
                if(action === 'chat') {
                    const w = document.getElementById('chatWindow');
                    w.style.display = w.style.display === 'flex' ? 'none' : 'flex';
                }
                if(action === 'book') window.location.href = "books.html";
            } else {
                document.getElementById('loginModal').style.display = 'flex';
            }
        };
        
        document.getElementById('chatBtn').onclick = () => window.checkAccess('chat');
        document.getElementById('bookBtn').onclick = () => window.checkAccess('book');

    </script>

    <script>
        function startListening() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if (!SpeechRecognition) { alert("Mic not supported"); return; }

            const recognition = new SpeechRecognition();
            recognition.lang = 'hi-IN';
            
            const micBtn = document.getElementById("micBtn");
            micBtn.innerText = "üëÇ";

            recognition.start();

            recognition.onresult = function (event) {
                const text = event.results[0][0].transcript;
                document.getElementById("userInput").value = text;
                micBtn.innerText = "üéôÔ∏è";
            };
            recognition.onerror = function () { micBtn.innerText = "üéôÔ∏è"; };
        }

        function speakAnswer(text) {
            if (!window.speechSynthesis) return;
            const cleanText = text.replace(/[*#]/g, ""); // Clean chars
            const speech = new SpeechSynthesisUtterance(cleanText);
            speech.lang = 'hi-IN';
            window.speechSynthesis.cancel();
            window.speechSynthesis.speak(speech);
        }
    </script>
</body>
</html>
        
