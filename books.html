<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islamic Digital Library</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        // ðŸ”’ Security Check
        if (localStorage.getItem("isLoggedIn") !== "true") {
            window.location.href = "index.html";
        }
    </script>

    <style>
        :root {
            --gold: #FFD700;
            --dark: #0a0a0a;
            --panel: #111;
            --border: rgba(255,255,255,0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Outfit', sans-serif; }
        body { background: #000; color: white; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* --- HEADER --- */
        header {
            padding: 15px 20px; background: rgba(20,20,20,0.9);
            border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center;
        }
        .logo { font-size: 1.2rem; font-weight: 700; color: var(--gold); display: flex; align-items: center; gap: 10px; }
        .home-btn { color: #ccc; text-decoration: none; font-size: 0.9rem; }

        /* --- LAYOUT --- */
        .layout { display: flex; flex: 1; overflow: hidden; }

        /* SIDEBAR (Book List) */
        .sidebar {
            width: 280px; background: var(--panel); border-right: 1px solid var(--border);
            display: flex; flex-direction: column;
        }
        .sidebar-header { padding: 20px; font-weight: 600; color: #888; border-bottom: 1px solid var(--border); }
        .book-list { list-style: none; overflow-y: auto; flex: 1; }
        .book-item {
            padding: 15px 20px; cursor: pointer; border-bottom: 1px solid #222;
            transition: 0.2s; display: flex; align-items: center; gap: 10px;
        }
        .book-item:hover { background: #1a1a1a; }
        .book-item.active { background: rgba(255, 215, 0, 0.1); border-left: 4px solid var(--gold); color: var(--gold); }
        .book-icon { color: #555; }
        .book-item.active .book-icon { color: var(--gold); }

        /* MAIN CONTENT (Volumes Grid) */
        .main-content { flex: 1; padding: 20px; overflow-y: auto; position: relative; }
        
        .grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px; padding-bottom: 50px;
        }

        /* VOLUME CARD */
        .card {
            background: #161616; border: 1px solid var(--border);
            border-radius: 12px; overflow: hidden; transition: 0.3s;
            display: flex; flex-direction: column;
        }
        .card:hover { transform: translateY(-5px); border-color: var(--gold); }
        
        .card-img {
            height: 140px; background: #222; display: flex; flex-direction: column;
            align-items: center; justify-content: center; border-bottom: 1px solid var(--border);
        }
        .card-img i { font-size: 3rem; color: #333; margin-bottom: 10px; }
        .card-body { padding: 15px; text-align: center; }
        .vol-name { font-size: 0.9rem; font-weight: 600; color: #fff; margin-bottom: 10px; display: block; }
        
        .btn-row { display: flex; gap: 5px; }
        .btn {
            flex: 1; padding: 8px; border-radius: 6px; font-size: 0.8rem; text-decoration: none;
            text-align: center; font-weight: 600; transition: 0.2s;
        }
        .btn-read { background: var(--gold); color: black; }
        .btn-dl { background: #333; color: white; }
        .btn:hover { opacity: 0.8; }

        /* MOBILE RESPONSIVE */
        @media (max-width: 768px) {
            .layout { flex-direction: column; }
            .sidebar { width: 100%; height: 160px; flex: none; }
            .book-list { display: flex; overflow-x: auto; white-space: nowrap; padding: 10px; border-bottom: 1px solid var(--border); }
            .book-item { border: 1px solid var(--border); border-radius: 50px; margin-right: 10px; padding: 8px 20px; flex-shrink: 0; }
            .book-item.active { border-left: 1px solid var(--gold); border-color: var(--gold); }
            .sidebar-header { display: none; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo"><i class="fas fa-mosque"></i> Quran 50M Library</div>
        <a href="index.html" class="home-btn"><i class="fas fa-home"></i> Home</a>
    </header>

    <div class="layout">
        <div class="sidebar">
            <div class="sidebar-header">ðŸ“š Select a Book</div>
            <ul class="book-list" id="bookList">
                </ul>
        </div>

        <div class="main-content">
            <h2 id="currentBookTitle" style="margin-bottom: 20px; color: var(--gold);">Select a Book</h2>
            <div class="grid" id="volumeGrid">
                </div>
        </div>
    </div>

    <script>
        // ==========================================
        // ðŸ› ï¸ CONFIGURATION AREA (Yahan Nayi Books Add Karein)
        // ==========================================
        
        const libraryData = [
            {
                id: "fatawa",
                title: "Fatawa Razawiya",
                folder: "books", // Folder where PDFs are stored
                totalVolumes: 30, // Number of volumes
                customFiles: [ // If naming is irregular (like 1.1, 1.2)
                    { name: "Jild 1 (Part 1)", file: "Fatawa-Razawiya-Jild-1.1.pdf" },
                    { name: "Jild 1 (Part 2)", file: "Fatawa-Razawiya-Jild-1.2.pdf" }
                ],
                // For regular volumes (3 to 30), code will auto-generate
                startRegular: 3, 
                endRegular: 30,
                baseFileName: "Fatawa-Razawiya-Jild-" // e.g., ...Jild-3.pdf
            },
            
            // --- EXAMPLE: AGAR DUSRI KITAB DALNI HO TO AISE CODE LIKHEN ---
            // {
            //     id: "bahar",
            //     title: "Bahar-e-Shariat",
            //     folder: "books",
            //     totalVolumes: 20,
            //     startRegular: 1,
            //     endRegular: 20,
            //     baseFileName: "Bahar-e-Shariat-Vol-"
            // }
        ];

        // ==========================================
        // âš™ï¸ LOGIC (DO NOT TOUCH BELOW)
        // ==========================================

        const bookListEl = document.getElementById('bookList');
        const volumeGridEl = document.getElementById('volumeGrid');
        const titleEl = document.getElementById('currentBookTitle');

        // 1. Render Sidebar (Book Titles)
        libraryData.forEach((book, index) => {
            const li = document.createElement('li');
            li.className = `book-item ${index === 0 ? 'active' : ''}`; // Select first by default
            li.innerHTML = `<i class="fas fa-book book-icon"></i> ${book.title}`;
            li.onclick = () => loadBook(index);
            bookListEl.appendChild(li);
        });

        // 2. Load Volumes for a Book
        function loadBook(index) {
            // Highlight Sidebar Item
            document.querySelectorAll('.book-item').forEach(el => el.classList.remove('active'));
            bookListEl.children[index].classList.add('active');

            const book = libraryData[index];
            titleEl.innerText = book.title;
            volumeGridEl.innerHTML = ""; // Clear previous

            // Helper to create card
            const createCard = (name, fileName) => {
                return `
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-file-pdf"></i>
                        <span style="font-size:0.8rem; color:#666;">PDF</span>
                    </div>
                    <div class="card-body">
                        <span class="vol-name">${name}</span>
                        <div class="btn-row">
                            <a href="${book.folder}/${fileName}" target="_blank" class="btn btn-read">Read</a>
                            <a href="${book.folder}/${fileName}" download class="btn btn-dl"><i class="fas fa-download"></i></a>
                        </div>
                    </div>
                </div>`;
            };

            // A. Add Custom Files (like 1.1, 1.2)
            if (book.customFiles) {
                book.customFiles.forEach(f => {
                    volumeGridEl.innerHTML += createCard(f.name, f.file);
                });
            }

            // B. Add Regular Files (Loop)
            if (book.startRegular && book.endRegular) {
                for (let i = book.startRegular; i <= book.endRegular; i++) {
                    const fileName = `${book.baseFileName}${i}.pdf`;
                    volumeGridEl.innerHTML += createCard(`Jild ${i}`, fileName);
                }
            }
        }

        // Load first book on start
        loadBook(0);

    </script>

</body>
</html>
